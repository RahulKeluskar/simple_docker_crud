sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Sorter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/scholar/demo/mockData/fakeServer","sap/m/MessageBox","sap/scholar/demo/model/formatter"],function(e,t,o,r,a,i,s,n){"use strict";return e.extend("sap.scholar.demo.controller.Home",{formatter:n,onInit:function(){i.getColors().then(e=>{var o=e;var r=new t(o);this.getView().setModel(r,"data")}).catch(e=>{s.error(e)});this._oRouter=sap.ui.core.UIComponent.getRouterFor(this);this._oRouter.getRoute("home").attachPatternMatched(this._onRouteMatched,this)},_onRouteMatched:function(){this._table=this.getView().byId("colorsTable")},onNavigation:function(e){var t=e.getSource().getCells()[0].getText();this._oRouter.navTo("detail",{color:t})},handleSortButtonPressed:function(){if(!this._oSortDialog){this._oSortDialog=sap.ui.xmlfragment("sap.scholar.demo.fragments.SortDialog",this);this.getView().addDependent(this._oSortDialog)}this._oSortDialog.open()},handleSortDialogConfirm:function(e){var t=[];var r=this._table.getBinding("items");var a=e.getParameters();var i=a.sortItem.getKey();var s=a.sortDescending;t.push(new o(i,s));r.sort(t)},handleGroupButtonPressed:function(){if(!this._oGroupDialog){this._oGroupDialog=sap.ui.xmlfragment("sap.scholar.demo.fragments.GroupDialog",this);this.getView().addDependent(this._oGroupDialog)}this._oGroupDialog.open()},handleGroupDialogConfirm:function(e){var t=[];var r=this._table.getBinding("items");var a=e.getParameters();if(a.groupItem){var i=a.groupItem.getKey();var s=a.groupDescending;t.push(new o(i,s,true));r.sort(t)}else{r.sort()}},onFilterColors:function(e){var t=[];var o=this._table.getBinding("items");var i=e.getParameter("query");if(i){t.push(new r("color",a.Contains,i))}o.filter(t)}})});